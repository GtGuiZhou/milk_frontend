(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23097008","chunk-2178b877","chunk-5ff84a6d","chunk-d92bb1c0","chunk-2d229db7","chunk-2d237d4c","chunk-2d0c02a5"],{"17cf":function(e,t,n){"use strict";n.r(t);n("7cfd"),n("4b5e"),n("6c28"),n("4634");t["default"]=function(e,t){var n="/admin/"+e+"/update",o=e+"_update_form",a="",r=!0,l=!1,i=void 0;try{for(var c,s=t[Symbol.iterator]();!(r=(c=s.next()).done);r=!0){var u=c.value,d=u["comment"]?u["comment"]:u["name"],m=u["name"];switch(u["ui_type"]){case"date":break;case"number":a+='\n                <el-form-item label="'.concat(d,'">\n                     <el-input-number v-model="form.').concat(m,'" ></el-input-number>\n                </el-form-item>\n');break;default:a+='\n                <el-form-item label="'.concat(d,'">\n                    <el-input v-model="form.').concat(m,'"></el-input>\n                </el-form-item>\n')}}}catch(f){l=!0,i=f}finally{try{r||null==s.return||s.return()}finally{if(l)throw i}}return'<template>\n    <div>\n        <el-form ref="form" :model="form" label-width="80px">\n            '.concat(a,'\n            <el-form-item>\n                <el-button type="primary" @click="onSubmit" v-loading="loading">立即修改</el-button>\n            </el-form-item>\n        </el-form>\n    </div>\n</template>\n\n<script>\n    //请求前缀\n    const updateUrl = \'').concat(n,"'\n    const componentName = '").concat(o,"'\n\n    export default {\n        name:componentName,\n        props: {\n            form: {\n                type: Object\n            }\n        },\n        data() {\n            return {\n                loading: false\n            }\n        },\n        methods: {\n            async onSubmit(){\n                this.loading = true\n                try {\n                    await this.$http.post(updateUrl,this.form)\n                    this.$notify.success('修改成功')\n                    this.$emit('update-success')\n                } finally {\n                    this.loading = false\n                }\n            }\n        }\n    }\n<\/script>\n\n<style scoped>\n\n</style>")}},"3f5c":function(e,t,n){var o=n("7d56"),a=n("9d61"),r=n("c864");e.exports=function(e){var t=o(e),n=a.f;if(n){var l,i=n(e),c=r.f,s=0;while(i.length>s)c.call(e,l=i[s++])&&t.push(l)}return t}},"412d":function(e,t,n){"use strict";n.r(t);var o=n("95fe");t["default"]=function(e){var t=o["a"].camelCase(e),n=t+"Model";return"<?php\nnamespace app\\user\\controller;\n\nuse app\\common\\controller\\ApiController;\nuse app\\common\\model\\".concat(n,";\n\nclass ").concat(t," extends ApiController\n{\n    protected $noNeedAuth = '*';\n\n    /**\n     * @autowired\n     * @var ").concat(n,"\n     */\n    protected $model;\n}\n    ")}},4634:function(e,t,n){for(var o=n("96dd"),a=n("7d56"),r=n("a6d5"),l=n("3f8b"),i=n("b8ea"),c=n("e3b3"),s=n("1277"),u=s("iterator"),d=s("toStringTag"),m=c.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=a(f),b=0;b<p.length;b++){var h,v=p[b],y=f[v],g=l[v],w=g&&g.prototype;if(w&&(w[u]||i(w,u,m),w[d]||i(w,d,v),c[v]=m,y))for(h in o)w[h]||r(w,h,o[h],!0)}},"4b5e":function(e,t,n){n("ac59")("asyncIterator")},"5bb7d":function(e,t,n){"use strict";n.r(t);n("7cfd"),n("4b5e"),n("6c28"),n("4634");t["default"]=function(e,t){var n="/admin/"+e+"/insert",o=e+"_insert_form",a="",r=!0,l=!1,i=void 0;try{for(var c,s=t[Symbol.iterator]();!(r=(c=s.next()).done);r=!0){var u=c.value,d=u["comment"]?u["comment"]:u["name"],m=u["name"];switch(u["ui_type"]){case"date":break;case"number":a+='\n                <el-form-item label="'.concat(d,'">\n                     <el-input-number v-model="form.').concat(m,'" ></el-input-number>\n                </el-form-item>\n');break;default:a+='\n                <el-form-item label="'.concat(d,'">\n                    <el-input v-model="form.').concat(m,'"></el-input>\n                </el-form-item>\n')}}}catch(f){l=!0,i=f}finally{try{r||null==s.return||s.return()}finally{if(l)throw i}}return'<template>\n    <div>\n        <el-form ref="form" :model="form" label-width="80px">\n            '.concat(a,'\n            <el-form-item label="自动重置">\n                <el-switch\n                        v-model="autoReset"\n                        active-color="#13ce66"\n                        inactive-color="#eeeeee">\n                </el-switch>\n            </el-form-item>\n            <el-form-item>\n                <el-button type="primary" @click="onSubmit" v-loading="loading">立即创建</el-button>\n                <el-button @click="onReset">重置</el-button>\n            </el-form-item>\n        </el-form>\n    </div>\n</template>\n\n<script>\n    //请求前缀\n    const insertUrl = \'').concat(n,"'\n    const componentName = '").concat(o,"'\n\n    // 初始化表单\n    const initForm =  {\n        image: '',\n        group: '',\n        link: ''\n    }\n    export default {\n        name:componentName,\n        data() {\n            return {\n                form: this.$until.jsonClone(initForm),\n                loading: false,\n                autoReset: true\n            }\n        },\n        methods: {\n            async onSubmit(){\n                this.loading = true\n                try {\n                    await this.$http.post(insertUrl,this.form)\n                    this.$notify.success('新增成功')\n                    if (this.autoReset)\n                        this.onReset()\n                    this.$emit('insert-success')\n                } finally {\n                    this.loading = false\n                }\n            },\n            onReset(){\n                this.form = this.$until.jsonClone(initForm)\n            }\n        }\n    }\n<\/script>\n\n<style scoped>\n\n</style>")}},"5f9c":function(e,t,n){var o=n("da0b"),a=n("6077"),r=n("1277")("match");e.exports=function(e){var t;return o(e)&&(void 0!==(t=e[r])?!!t:"RegExp"==a(e))}},"67cb":function(e,t,n){"use strict";n.r(t);n("7cfd"),n("4b5e"),n("6c28"),n("4634");t["default"]=function(e,t){var n="/admin/"+e+"/index",o="/admin/"+e+"/delete",a=e,r="".concat(e,"_insert_form"),l="".concat(e,"_update_form"),i="id",c="",s=!0,u=!1,d=void 0;try{for(var m,f=t[Symbol.iterator]();!(s=(m=f.next()).done);s=!0){var p=m.value;switch(p["primary"]&&(i=p["name"]),p["ui_type"]){case"date":break;default:c+='\n                    <el-table-column\n                    prop="'.concat(p["name"],'"\n                    label="').concat(p["comment"]?p["comment"]:p["name"],'"\n                    ></el-table-column>\n')}}}catch(b){u=!0,d=b}finally{try{s||null==f.return||f.return()}finally{if(u)throw d}}return'<template>\n    <div>\n        <el-button plain icon="el-icon-refresh" @click="onRefresh"></el-button>\n        <el-button type="primary" plain @click="onInsertClick">新增</el-button>\n        <el-button type="danger" plain @click="onDeleteSelection" :disabled="selection.length < 1">删除</el-button>\n        <el-table\n                v-loading="tableLoading"\n                element-loading-text="加载中..."\n                :data="tableData"\n                stripe\n                style="width: 100%"\n                el-table-column\n                @selection-change="onSelectionChange"\n        >\n            <el-table-column\n                    type="selection"\n                    width="55">\n            </el-table-column>\n            '.concat(c,'\n            <el-table-column>\n                <template slot-scope="scope">\n                    <el-button type="warning" @click="onUpdateRow(scope.row)">编辑</el-button>\n                    <el-button type="danger" @click="onDeleteRows([scope.row])">删除</el-button>\n                </template>\n            </el-table-column>\n\n        </el-table>\n        <div style="text-align: center;margin: 10px">\n            <el-pagination\n                    @size-change="size => loadData({size:size,index:this.page.index})"\n                    @current-change="index => loadData({size:this.page.size,index:index})"\n                    :current-page="this.page.index"\n                    :page-sizes="[10, 20, 50, 100, \'all\']"\n                    :page-size="page.size"\n                    layout="total, sizes, prev, pager, next, jumper"\n                    :total="this.page.total">\n            </el-pagination>\n        </div>\n\n\n        <el-dialog\n                title="添加"\n                :visible.sync="visualInsertForm"\n        >\n            <insert_form @close="visualInsertForm = false" @insert-success="onRefresh"></insert_form>\n        </el-dialog>\n\n        <el-dialog\n                title="更新"\n                :visible.sync="visualUpdateForm"\n        >\n            <update_form @close="visualUpdateForm = false"\n                              @update-success="onRefresh"\n                              :form="updateRow"></update_form>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\n    //请求前缀\n    const indexUrl = \'').concat(n,"'\n    const deleteUrl = '").concat(o,"'\n    const primaryName = '").concat(i,"'\n    const componentName = '").concat(a,"'\n\n    // 导入组件\n    import insert_form from \"./").concat(r,'";\n    import update_form from "./').concat(l,"\";\n\n    export default {\n        name: componentName,\n        components: {\n            insert_form,\n            update_form\n        },\n        data() {\n            return {\n                // 表格是否显示加载状态\n                tableLoading: false,\n                // 被选中的rows\n                selection: [],\n                // 表格的数据\n                tableData: [],\n                // 待更新行\n                updateRow: null,\n                visualInsertForm: false,\n                visualUpdateForm: false,\n                // 分页设定\n                page: {\n                    size: 10,\n                    index: 1,\n                    total: 0,\n                }\n            }\n        },\n        created() {\n            this.loadData()\n        },\n        methods: {\n            /**\n             * 初始化加载数据\n             * @param page 分页对象\n             * @param where 查询条件\n             */\n            async loadData(page = this.page, where = {}) {\n                this.tableLoading = true\n                try {\n                    const params = {\n                        index: this.page.index,\n                        size: this.page.size\n                    }\n                    const res = await this.$http.post(indexUrl, params)\n                    this.tableData = res.list\n                    this.page.total = res.total\n                } finally {\n                    this.tableLoading = false\n                }\n            },\n\n            // 重新加载数据\n            onRefresh() {\n                this.loadData()\n            },\n\n            // 当选中rows修改时，将这些选中的rows保存到selection中\n            onSelectionChange(selection) {\n                this.selection = selection\n            },\n\n            // 新增按钮点击\n            onInsertClick() {\n                this.visualInsertForm = true\n            },\n\n            // 编辑按钮点击\n            onUpdateRow(row) {\n                this.visualUpdateForm = true\n                this.updateRow = row\n            },\n\n            // 删除选中的rows\n            onDeleteSelection() {\n                this.onDeleteRows(this.selection)\n            },\n\n            onDeleteRows(rows) {\n                const ids = rows.map(row => {\n                    return row[primaryName]\n                }).join(',')\n                this.$http.delete(deleteUrl +'?ids=' + ids).then(\n                    () => {\n                        this.$message.success('删除成功')\n                        this.loadData()\n                    }\n                )\n            },\n\n\n        }\n    }\n<\/script>\n\n<style scoped>\n\n</style>")}},"6c28":function(e,t,n){"use strict";var o=n("3f8b"),a=n("549d"),r=n("f9a5"),l=n("2498"),i=n("a6d5"),c=n("b081").KEY,s=n("0cc1"),u=n("f341"),d=n("3d87"),m=n("4d2c"),f=n("1277"),p=n("7206"),b=n("ac59"),h=n("3f5c"),v=n("c58e"),y=n("8cac"),g=n("da0b"),w=n("a9cf"),k=n("6117"),C=n("2ab1"),x=n("0614"),_=n("65c3"),S=n("c26a"),R=n("e493"),O=n("9d61"),F=n("d3d8"),$=n("7d56"),P=R.f,L=F.f,N=S.f,T=o.Symbol,D=o.JSON,I=D&&D.stringify,j="prototype",E=f("_hidden"),M=f("toPrimitive"),q={}.propertyIsEnumerable,z=u("symbol-registry"),A=u("symbols"),U=u("op-symbols"),G=Object[j],J="function"==typeof T&&!!O.f,B=o.QObject,V=!B||!B[j]||!B[j].findChild,H=r&&s((function(){return 7!=_(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a}))?function(e,t,n){var o=P(G,t);o&&delete G[t],L(e,t,n),o&&e!==G&&L(G,t,o)}:L,K=function(e){var t=A[e]=_(T[j]);return t._k=e,t},W=J&&"symbol"==typeof T.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof T},Y=function(e,t,n){return e===G&&Y(U,t,n),y(e),t=C(t,!0),y(n),a(A,t)?(n.enumerable?(a(e,E)&&e[E][t]&&(e[E][t]=!1),n=_(n,{enumerable:x(0,!1)})):(a(e,E)||L(e,E,x(1,{})),e[E][t]=!0),H(e,t,n)):L(e,t,n)},Q=function(e,t){y(e);var n,o=h(t=k(t)),a=0,r=o.length;while(r>a)Y(e,n=o[a++],t[n]);return e},X=function(e,t){return void 0===t?_(e):Q(_(e),t)},Z=function(e){var t=q.call(this,e=C(e,!0));return!(this===G&&a(A,e)&&!a(U,e))&&(!(t||!a(this,e)||!a(A,e)||a(this,E)&&this[E][e])||t)},ee=function(e,t){if(e=k(e),t=C(t,!0),e!==G||!a(A,t)||a(U,t)){var n=P(e,t);return!n||!a(A,t)||a(e,E)&&e[E][t]||(n.enumerable=!0),n}},te=function(e){var t,n=N(k(e)),o=[],r=0;while(n.length>r)a(A,t=n[r++])||t==E||t==c||o.push(t);return o},ne=function(e){var t,n=e===G,o=N(n?U:k(e)),r=[],l=0;while(o.length>l)!a(A,t=o[l++])||n&&!a(G,t)||r.push(A[t]);return r};J||(T=function(){if(this instanceof T)throw TypeError("Symbol is not a constructor!");var e=m(arguments.length>0?arguments[0]:void 0),t=function(n){this===G&&t.call(U,n),a(this,E)&&a(this[E],e)&&(this[E][e]=!1),H(this,e,x(1,n))};return r&&V&&H(G,e,{configurable:!0,set:t}),K(e)},i(T[j],"toString",(function(){return this._k})),R.f=ee,F.f=Y,n("cb2e").f=S.f=te,n("c864").f=Z,O.f=ne,r&&!n("6cc2")&&i(G,"propertyIsEnumerable",Z,!0),p.f=function(e){return K(f(e))}),l(l.G+l.W+l.F*!J,{Symbol:T});for(var oe="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ae=0;oe.length>ae;)f(oe[ae++]);for(var re=$(f.store),le=0;re.length>le;)b(re[le++]);l(l.S+l.F*!J,"Symbol",{for:function(e){return a(z,e+="")?z[e]:z[e]=T(e)},keyFor:function(e){if(!W(e))throw TypeError(e+" is not a symbol!");for(var t in z)if(z[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),l(l.S+l.F*!J,"Object",{create:X,defineProperty:Y,defineProperties:Q,getOwnPropertyDescriptor:ee,getOwnPropertyNames:te,getOwnPropertySymbols:ne});var ie=s((function(){O.f(1)}));l(l.S+l.F*ie,"Object",{getOwnPropertySymbols:function(e){return O.f(w(e))}}),D&&l(l.S+l.F*(!J||s((function(){var e=T();return"[null]"!=I([e])||"{}"!=I({a:e})||"{}"!=I(Object(e))}))),"JSON",{stringify:function(e){var t,n,o=[e],a=1;while(arguments.length>a)o.push(arguments[a++]);if(n=t=o[1],(g(t)||void 0!==e)&&!W(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!W(t))return t}),o[1]=t,I.apply(D,o)}}),T[j][M]||n("b8ea")(T[j],M,T[j].valueOf),d(T,"Symbol"),d(Math,"Math",!0),d(o.JSON,"JSON",!0)},7206:function(e,t,n){t.f=n("1277")},"7cfd":function(e,t,n){var o=n("d3d8").f,a=Function.prototype,r=/^\s*function ([^ (]*)/,l="name";l in a||n("f9a5")&&o(a,l,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(e){return""}}})},ac59:function(e,t,n){var o=n("3f8b"),a=n("da27"),r=n("6cc2"),l=n("7206"),i=n("d3d8").f;e.exports=function(e){var t=a.Symbol||(a.Symbol=r?{}:o.Symbol||{});"_"==e.charAt(0)||e in t||i(t,e,{value:l.f(e)})}},b081:function(e,t,n){var o=n("4d2c")("meta"),a=n("da0b"),r=n("549d"),l=n("d3d8").f,i=0,c=Object.isExtensible||function(){return!0},s=!n("0cc1")((function(){return c(Object.preventExtensions({}))})),u=function(e){l(e,o,{value:{i:"O"+ ++i,w:{}}})},d=function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!r(e,o)){if(!c(e))return"F";if(!t)return"E";u(e)}return e[o].i},m=function(e,t){if(!r(e,o)){if(!c(e))return!0;if(!t)return!1;u(e)}return e[o].w},f=function(e){return s&&p.NEED&&c(e)&&!r(e,o)&&u(e),e},p=e.exports={KEY:o,NEED:!1,fastKey:d,getWeak:m,onFreeze:f}},b850:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-card",[n("el-form",{attrs:{inline:!0}},[n("el-form-item",{attrs:{label:"表名"}},[n("el-input",{model:{value:e.form.table_name,callback:function(t){e.$set(e.form,"table_name",t)},expression:"form.table_name"}})],1),n("el-form-item",{attrs:{label:"编码"}},[n("el-input",{model:{value:e.form.charset,callback:function(t){e.$set(e.form,"charset",t)},expression:"form.charset"}})],1),n("el-form-item",{attrs:{label:"存储引擎"}},[n("el-input",{model:{value:e.form.engine,callback:function(t){e.$set(e.form,"engine",t)},expression:"form.engine"}})],1),n("el-form-item",{attrs:{label:"备注"}},[n("el-input",{model:{value:e.form.comment,callback:function(t){e.$set(e.form,"comment",t)},expression:"form.comment"}})],1)],1),n("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.frontendRootPath,callback:function(t){e.frontendRootPath=t},expression:"frontendRootPath"}},[n("template",{slot:"prepend"},[e._v("前端代码保存路径")])],2),n("br"),n("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.backendRootPath,callback:function(t){e.backendRootPath=t},expression:"backendRootPath"}},[n("template",{slot:"prepend"},[e._v("后端代码保存路径")])],2),n("br"),n("br"),n("div",[n("el-button",{attrs:{type:"primary"},on:{click:e.onGenerateClick}},[e._v("全部生成")]),n("el-button",{attrs:{type:"success"},on:{click:e.buildFrontendCode}},[e._v("前端生成")]),n("el-button",{attrs:{type:"warning"},on:{click:e.buildBackendCode}},[e._v("后端生成")]),n("el-button",{attrs:{type:"error"},on:{click:e.onBuildTableClick}},[e._v("数据库生成")])],1)],1),n("el-card",[n("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onInsertClick()}}},[e._v("新增一行")]),n("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onInsertClick("id","int unsigned","number","",!0,!0,!0,!1)}}},[e._v("新增主键")]),n("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){e.onInsertClick("","varchar(25)","text","",!1,!1,!1,!1)}}},[e._v("varchar(25)")]),n("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){e.onInsertClick("","varchar(255)","text","",!1,!1,!1,!1)}}},[e._v("varchar(255)")]),n("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){e.onInsertClick("","varchar(2000)","text","",!1,!1,!1,!1)}}},[e._v("varchar(2000)")]),n("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onInsertClick("","tinyint","switch","",!1,!1,!1,!1)}}},[e._v("新增开关")]),n("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){e.onInsertClick("image","varchar(255)","image","",!1,!1,!1,!1)}}},[e._v("单图")]),n("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){e.onInsertClick("images","varchar(2000)","images","",!1,!1,!1,!1)}}},[e._v("多图")]),n("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onInsertClick("create_time","int","number","创建时间",!1,!1,!1,!1)}}},[e._v("创建时间")]),n("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.onInsertClick("","int unsigned","number","",!1,!1,!1,!1)}}},[e._v("int unsigned")]),n("br"),n("br"),n("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"",border:"",data:e.form.columns}},[n("el-table-column",{attrs:{prop:"name",label:"字段名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{ref:"name-"+t.$index,model:{value:t.row.name,callback:function(n){e.$set(t.row,"name",n)},expression:"scope.row.name"}})]}}])}),n("el-table-column",{attrs:{prop:"type",label:"数据类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-autocomplete",{attrs:{"fetch-suggestions":e.queryType},model:{value:t.row.type,callback:function(n){e.$set(t.row,"type",n)},expression:"scope.row.type"}})]}}])}),n("el-table-column",{attrs:{prop:"ui_type",label:"显示类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-select",{attrs:{placeholder:"请选择显示类型"},model:{value:t.row.ui_type,callback:function(n){e.$set(t.row,"ui_type",n)},expression:"scope.row.ui_type"}},e._l(e.uiTypeOptions,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)]}}])}),n("el-table-column",{attrs:{prop:"comment",label:"备注"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{model:{value:t.row.comment,callback:function(n){e.$set(t.row,"comment",n)},expression:"scope.row.comment"}})]}}])}),n("el-table-column",{attrs:{prop:"default",label:"默认值"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{model:{value:t.row.default,callback:function(n){e.$set(t.row,"default",n)},expression:"scope.row.default"}})]}}])}),n("el-table-column",{attrs:{width:"100px",prop:"primary",label:"主键"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#eeeeee"},model:{value:t.row.primary,callback:function(n){e.$set(t.row,"primary",n)},expression:"scope.row.primary"}})]}}])}),n("el-table-column",{attrs:{width:"100px",prop:"unique",label:"唯一"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#eeeeee"},model:{value:t.row.unique,callback:function(n){e.$set(t.row,"unique",n)},expression:"scope.row.unique"}})]}}])}),n("el-table-column",{attrs:{width:"100px",prop:"is_null",label:"允许空值"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#eeeeee"},model:{value:t.row.is_null,callback:function(n){e.$set(t.row,"is_null",n)},expression:"scope.row.is_null"}})]}}])}),n("el-table-column",{attrs:{width:"100px",prop:"auto_increment",label:"自增"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#eeeeee"},model:{value:t.row.auto_increment,callback:function(n){e.$set(t.row,"auto_increment",n)},expression:"scope.row.auto_increment"}})]}}])}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(n){return e.onDeleteRow(t)}}})]}}])})],1)],1),n("el-card",[n("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"Sql",name:"sql"}},[n("el-input",{attrs:{type:"textarea",autosize:""},model:{value:e.sql,callback:function(t){e.sql=t},expression:"sql"}})],1),n("el-tab-pane",{attrs:{label:"前端主界面",name:"frontend-main"}},[n("el-input",{attrs:{type:"textarea",autosize:""},model:{value:e.frontendCode,callback:function(t){e.frontendCode=t},expression:"frontendCode"}})],1),n("el-tab-pane",{attrs:{label:"前端新增表单",name:"frontend-insert"}},[n("el-input",{attrs:{type:"textarea",autosize:""},model:{value:e.insertFormCode,callback:function(t){e.insertFormCode=t},expression:"insertFormCode"}})],1),n("el-tab-pane",{attrs:{label:"前端更新表单",name:"frontend-update"}},[n("el-input",{attrs:{type:"textarea",autosize:""},model:{value:e.updateFormCode,callback:function(t){e.updateFormCode=t},expression:"updateFormCode"}})],1),n("el-tab-pane",{attrs:{label:"后端管理",name:"backend-admin"}},[n("el-input",{attrs:{type:"textarea",autosize:""},model:{value:e.adminControllerCode,callback:function(t){e.adminControllerCode=t},expression:"adminControllerCode"}})],1),n("el-tab-pane",{attrs:{label:"后端用户",name:"backend-user"}},[n("el-input",{attrs:{type:"textarea",autosize:""},model:{value:e.userControllerCode,callback:function(t){e.userControllerCode=t},expression:"userControllerCode"}})],1),n("el-tab-pane",{attrs:{label:"后端公共模型",name:"backend-common-model"}},[n("el-input",{attrs:{type:"textarea",autosize:""},model:{value:e.commonModelCode,callback:function(t){e.commonModelCode=t},expression:"commonModelCode"}})],1)],1)],1)],1)},a=[],r=(n("7cfd"),n("4b5e"),n("6c28"),n("4634"),n("e6d1"),n("67cb")),l=n("5bb7d"),i=n("17cf"),c=n("dedd"),s=n("412d"),u=n("fd91"),d=n("e04f"),m=n.n(d),f=n("95fe"),p={table_name:"",table_comment:"",engine:"InnoDB",charset:"utf8mb4",comment:"",columns:[]},b={name:"database",data:function(){return{uiTypeOptions:[{value:"text",label:"文本"},{value:"number",label:"数值"},{value:"switch",label:"开关"},{value:"date",label:"日期"},{value:"image",label:"单图"},{value:"images",label:"多图"}],activeName:"sql",form:JSON.parse(JSON.stringify(p)),sql:"",frontendCode:"",insertFormCode:"",updateFormCode:"",adminControllerCode:"",userControllerCode:"",commonModelCode:"",backendRootPath:"",frontendRootPath:""}},created:function(){this.watchForm(),m.a.get("frontendRootPath")&&(this.frontendRootPath=m.a.get("frontendRootPath")),m.a.get("backendRootPath")&&(this.backendRootPath=m.a.get("backendRootPath"))},watch:{frontendRootPath:function(e){m.a.set("frontendRootPath",e)},backendRootPath:function(e){m.a.set("backendRootPath",e)}},methods:{watchForm:function(){var e=this;this.$watch("form",(function(t,n){e.sql=e.computedSql(),e.frontendCode=Object(r["default"])(e.form.table_name,e.form.columns),e.insertFormCode=Object(l["default"])(e.form.table_name,e.form.columns),e.updateFormCode=Object(i["default"])(e.form.table_name,e.form.columns),e.adminControllerCode=Object(c["default"])(e.form.table_name),e.userControllerCode=Object(s["default"])(e.form.table_name),e.commonModelCode=Object(u["default"])(e.form.table_name)}),{deep:!0})},computedSql:function(){var e="",t=!0,n=!1,o=void 0;try{for(var a,r=this.form.columns[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var l=a.value,i=l["auto_increment"]?"auto_increment":"",c=l["default"]?"default "+l["default"]:"",s=l["primary"]?"primary key":"",u=l["is_null"]?"null":"not null";e+="`".concat(l["name"],"` ").concat(l["type"]," ").concat(s," ").concat(i," ").concat(c," ").concat(u," comment '").concat(l["comment"],"',\n                    ")}}catch(y){n=!0,o=y}finally{try{t||null==r.return||r.return()}finally{if(n)throw o}}var d="",m=!0,f=!1,p=void 0;try{for(var b,h=this.form.columns[Symbol.iterator]();!(m=(b=h.next()).done);m=!0){var v=b.value;v["unique"]&&(d+="constraint ".concat(this.form.table_name,"_uinde unique (").concat(v["name"],"),\n                        "))}}catch(y){f=!0,p=y}finally{try{m||null==h.return||h.return()}finally{if(f)throw p}}return d=d.split(","),d.pop(),d=d.join(","),"create table ".concat(this.form.table_name,"\n(\n    ").concat(e,"\n    ").concat(d,"\n)\nENGINE=").concat(this.form.engine," DEFAULT CHARSET=").concat(this.form.charset," comment '").concat(this.form.comment,"';\n                ")},onBuildTableClick:function(){var e=this;this.form.table_name.length<1?this.$notify.error("表名不能为空"):this.$http.post("/dev/database/exec",{sql:this.sql}).then((function(){e.form=JSON.parse(JSON.stringify(p)),e.sql="",e.$notify.success("创建成功")}))},buildFrontendCode:function(){var e=this.frontendRootPath,t=e+"/"+this.form.table_name;this.$http.post("/dev/code/build",{force:!1,directors:[t],files:[{path:t+"/"+this.form.table_name+".vue",code:this.frontendCode},{path:t+"/"+this.form.table_name+"_insert_form.vue",code:this.insertFormCode},{path:t+"/"+this.form.table_name+"_update_form.vue",code:this.updateFormCode}]})},buildBackendCode:function(){var e=this.backendRootPath,t=f["a"].camelCase(this.form.table_name);this.$http.post("/dev/code/build",{force:!1,directors:[],files:[{path:e+"/admin/controller/"+t+".php",code:this.adminControllerCode},{path:e+"/user/controller/"+t+".php",code:this.userControllerCode},{path:e+"/common/model/"+t+"Model.php",code:this.commonModelCode}]})},onGenerateClick:function(){this.onBuildTableClick(),this.buildFrontendCode(),this.buildBackendCode()},onDeleteRow:function(e){this.form.columns.splice(e.$index,1),console.log(e)},onInsertClick:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],i=arguments.length>7&&void 0!==arguments[7]&&arguments[7],c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",s=!0,u=!1,d=void 0;try{for(var m,f=this.form.columns[Symbol.iterator]();!(s=(m=f.next()).done);s=!0){var p=m.value;if(p["name"]==e)return void this.$notify.error("该字段已存在")}}catch(h){u=!0,d=h}finally{try{s||null==f.return||f.return()}finally{if(u)throw d}}var b={name:e,type:t,ui_type:n,comment:o,primary:a,unique:r,auto_increment:l,is_null:i,default:c};this.form.columns.push(b)},queryType:function(e,t){var n=[{value:"int"},{value:"int unsigned"},{value:"tinyint"},{value:"varchar(255)"},{value:"text"},{value:"float"},{value:"enum('0','1','2','3')"},{value:"set"},{value:"datetime"},{value:"date"},{value:"timestamp"}],o=e?n.filter((function(t){return t=t.value,t.toLowerCase().indexOf(e.toLowerCase())>=0||e.toLowerCase().indexOf(t.toLowerCase())>=0})):n;t(o)}}},h=b,v=n("4e82"),y=Object(v["a"])(h,o,a,!1,null,"09c7ecca",null);t["default"]=y.exports},c26a:function(e,t,n){var o=n("6117"),a=n("cb2e").f,r={}.toString,l="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],i=function(e){try{return a(e)}catch(t){return l.slice()}};e.exports.f=function(e){return l&&"[object Window]"==r.call(e)?i(e):a(o(e))}},c58e:function(e,t,n){var o=n("6077");e.exports=Array.isArray||function(e){return"Array"==o(e)}},cb2e:function(e,t,n){var o=n("7afe"),a=n("d93f").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,a)}},dedd:function(e,t,n){"use strict";n.r(t);var o=n("95fe");t["default"]=function(e){var t=o["a"].camelCase(e),n=t+"Model";return"<?php\nnamespace app\\admin\\controller;\n\nuse app\\common\\controller\\ApiController;\nuse app\\common\\model\\".concat(n,";\nuse app\\common\\traits\\AdminCrudTrait;\n\nclass ").concat(t," extends ApiController\n{\n    use AdminCrudTrait;\n    protected $noNeedAuth = '*';\n\n    /**\n     * @autowired\n     * @var ").concat(n,"\n     */\n    protected $model;\n}\n    ")}},e493:function(e,t,n){var o=n("c864"),a=n("0614"),r=n("6117"),l=n("2ab1"),i=n("549d"),c=n("25ae"),s=Object.getOwnPropertyDescriptor;t.f=n("f9a5")?s:function(e,t){if(e=r(e),t=l(t,!0),c)try{return s(e,t)}catch(n){}if(i(e,t))return a(!o.f.call(e,t),e[t])}},e6d1:function(e,t,n){"use strict";var o=n("5f9c"),a=n("8cac"),r=n("95e3"),l=n("ff04"),i=n("8941"),c=n("2137"),s=n("133b"),u=n("0cc1"),d=Math.min,m=[].push,f="split",p="length",b="lastIndex",h=4294967295,v=!u((function(){RegExp(h,"y")}));n("6af6")("split",2,(function(e,t,n,u){var y;return y="c"=="abbc"[f](/(b)*/)[1]||4!="test"[f](/(?:)/,-1)[p]||2!="ab"[f](/(?:ab)*/)[p]||4!="."[f](/(.?)(.?)/)[p]||"."[f](/()()/)[p]>1||""[f](/.?/)[p]?function(e,t){var a=String(this);if(void 0===e&&0===t)return[];if(!o(e))return n.call(a,e,t);var r,l,i,c=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,f=void 0===t?h:t>>>0,v=new RegExp(e.source,u+"g");while(r=s.call(v,a)){if(l=v[b],l>d&&(c.push(a.slice(d,r.index)),r[p]>1&&r.index<a[p]&&m.apply(c,r.slice(1)),i=r[0][p],d=l,c[p]>=f))break;v[b]===r.index&&v[b]++}return d===a[p]?!i&&v.test("")||c.push(""):c.push(a.slice(d)),c[p]>f?c.slice(0,f):c}:"0"[f](void 0,0)[p]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,o){var a=e(this),r=void 0==n?void 0:n[t];return void 0!==r?r.call(n,a,o):y.call(String(a),n,o)},function(e,t){var o=u(y,e,this,t,y!==n);if(o.done)return o.value;var s=a(e),m=String(this),f=r(s,RegExp),p=s.unicode,b=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(v?"y":"g"),g=new f(v?s:"^(?:"+s.source+")",b),w=void 0===t?h:t>>>0;if(0===w)return[];if(0===m.length)return null===c(g,m)?[m]:[];var k=0,C=0,x=[];while(C<m.length){g.lastIndex=v?C:0;var _,S=c(g,v?m:m.slice(C));if(null===S||(_=d(i(g.lastIndex+(v?0:C)),m.length))===k)C=l(m,C,p);else{if(x.push(m.slice(k,C)),x.length===w)return x;for(var R=1;R<=S.length-1;R++)if(x.push(S[R]),x.length===w)return x;C=k=_}}return x.push(m.slice(k)),x}]}))},fd91:function(e,t,n){"use strict";n.r(t);var o=n("95fe");t["default"]=function(e){var t=o["a"].camelCase(e)+"Model";return"<?php\nnamespace app\\common\\model;\n\n\n\nclass ".concat(t," extends BaseModel\n{\n    protected $table = '").concat(e,"';\n   \n}\n    ")}}}]);
//# sourceMappingURL=chunk-23097008.fecf30c7.js.map