(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2178b877"],{"3f5c":function(n,e,t){var r=t("7d56"),i=t("9d61"),o=t("c864");n.exports=function(n){var e=r(n),t=i.f;if(t){var a,c=t(n),s=o.f,l=0;while(c.length>l)s.call(n,a=c[l++])&&e.push(a)}return e}},4634:function(n,e,t){for(var r=t("96dd"),i=t("7d56"),o=t("a6d5"),a=t("3f8b"),c=t("b8ea"),s=t("e3b3"),l=t("1277"),u=l("iterator"),f=l("toStringTag"),p=s.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=i(d),h=0;h<m.length;h++){var b,y=m[h],g=d[y],v=a[y],w=v&&v.prototype;if(w&&(w[u]||c(w,u,p),w[f]||c(w,f,y),s[y]=p,g))for(b in r)w[b]||o(w,b,r[b],!0)}},"4b5e":function(n,e,t){t("ac59")("asyncIterator")},"67cb":function(n,e,t){"use strict";t.r(e);t("7cfd"),t("4b5e"),t("6c28"),t("4634");e["default"]=function(n,e){var t="/admin/"+n+"/index",r="/admin/"+n+"/delete",i=n,o="".concat(n,"_insert_form"),a="".concat(n,"_update_form"),c="id",s="",l=!0,u=!1,f=void 0;try{for(var p,d=e[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var m=p.value;switch(m["primary"]&&(c=m["name"]),m["ui_type"]){case"date":break;default:s+='\n                    <el-table-column\n                    prop="'.concat(m["name"],'"\n                    label="').concat(m["comment"]?m["comment"]:m["name"],'"\n                    ></el-table-column>\n')}}}catch(h){u=!0,f=h}finally{try{l||null==d.return||d.return()}finally{if(u)throw f}}return'<template>\n    <div>\n        <el-button plain icon="el-icon-refresh" @click="onRefresh"></el-button>\n        <el-button type="primary" plain @click="onInsertClick">新增</el-button>\n        <el-button type="danger" plain @click="onDeleteSelection" :disabled="selection.length < 1">删除</el-button>\n        <el-table\n                v-loading="tableLoading"\n                element-loading-text="加载中..."\n                :data="tableData"\n                stripe\n                style="width: 100%"\n                el-table-column\n                @selection-change="onSelectionChange"\n        >\n            <el-table-column\n                    type="selection"\n                    width="55">\n            </el-table-column>\n            '.concat(s,'\n            <el-table-column>\n                <template slot-scope="scope">\n                    <el-button type="warning" @click="onUpdateRow(scope.row)">编辑</el-button>\n                    <el-button type="danger" @click="onDeleteRows([scope.row])">删除</el-button>\n                </template>\n            </el-table-column>\n\n        </el-table>\n        <div style="text-align: center;margin: 10px">\n            <el-pagination\n                    @size-change="size => loadData({size:size,index:this.page.index})"\n                    @current-change="index => loadData({size:this.page.size,index:index})"\n                    :current-page="this.page.index"\n                    :page-sizes="[10, 20, 50, 100, \'all\']"\n                    :page-size="page.size"\n                    layout="total, sizes, prev, pager, next, jumper"\n                    :total="this.page.total">\n            </el-pagination>\n        </div>\n\n\n        <el-dialog\n                title="添加"\n                :visible.sync="visualInsertForm"\n        >\n            <insert_form @close="visualInsertForm = false" @insert-success="onRefresh"></insert_form>\n        </el-dialog>\n\n        <el-dialog\n                title="更新"\n                :visible.sync="visualUpdateForm"\n        >\n            <update_form @close="visualUpdateForm = false"\n                              @update-success="onRefresh"\n                              :form="updateRow"></update_form>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\n    //请求前缀\n    const indexUrl = \'').concat(t,"'\n    const deleteUrl = '").concat(r,"'\n    const primaryName = '").concat(c,"'\n    const componentName = '").concat(i,"'\n\n    // 导入组件\n    import insert_form from \"./").concat(o,'";\n    import update_form from "./').concat(a,"\";\n\n    export default {\n        name: componentName,\n        components: {\n            insert_form,\n            update_form\n        },\n        data() {\n            return {\n                // 表格是否显示加载状态\n                tableLoading: false,\n                // 被选中的rows\n                selection: [],\n                // 表格的数据\n                tableData: [],\n                // 待更新行\n                updateRow: null,\n                visualInsertForm: false,\n                visualUpdateForm: false,\n                // 分页设定\n                page: {\n                    size: 10,\n                    index: 1,\n                    total: 0,\n                }\n            }\n        },\n        created() {\n            this.loadData()\n        },\n        methods: {\n            /**\n             * 初始化加载数据\n             * @param page 分页对象\n             * @param where 查询条件\n             */\n            async loadData(page = this.page, where = {}) {\n                this.tableLoading = true\n                try {\n                    const params = {\n                        index: this.page.index,\n                        size: this.page.size\n                    }\n                    const res = await this.$http.post(indexUrl, params)\n                    this.tableData = res.list\n                    this.page.total = res.total\n                } finally {\n                    this.tableLoading = false\n                }\n            },\n\n            // 重新加载数据\n            onRefresh() {\n                this.loadData()\n            },\n\n            // 当选中rows修改时，将这些选中的rows保存到selection中\n            onSelectionChange(selection) {\n                this.selection = selection\n            },\n\n            // 新增按钮点击\n            onInsertClick() {\n                this.visualInsertForm = true\n            },\n\n            // 编辑按钮点击\n            onUpdateRow(row) {\n                this.visualUpdateForm = true\n                this.updateRow = row\n            },\n\n            // 删除选中的rows\n            onDeleteSelection() {\n                this.onDeleteRows(this.selection)\n            },\n\n            onDeleteRows(rows) {\n                const ids = rows.map(row => {\n                    return row[primaryName]\n                }).join(',')\n                this.$http.delete(deleteUrl +'?ids=' + ids).then(\n                    () => {\n                        this.$message.success('删除成功')\n                        this.loadData()\n                    }\n                )\n            },\n\n\n        }\n    }\n<\/script>\n\n<style scoped>\n\n</style>")}},"6c28":function(n,e,t){"use strict";var r=t("3f8b"),i=t("549d"),o=t("f9a5"),a=t("2498"),c=t("a6d5"),s=t("b081").KEY,l=t("0cc1"),u=t("f341"),f=t("3d87"),p=t("4d2c"),d=t("1277"),m=t("7206"),h=t("ac59"),b=t("3f5c"),y=t("c58e"),g=t("8cac"),v=t("da0b"),w=t("a9cf"),S=t("6117"),L=t("2ab1"),O=t("0614"),x=t("65c3"),D=t("c26a"),F=t("e493"),k=t("9d61"),N=t("d3d8"),P=t("7d56"),T=F.f,_=N.f,R=D.f,j=r.Symbol,E=r.JSON,z=E&&E.stringify,C="prototype",M=d("_hidden"),I=d("toPrimitive"),U={}.propertyIsEnumerable,A=u("symbol-registry"),G=u("symbols"),V=u("op-symbols"),J=Object[C],H="function"==typeof j&&!!k.f,K=r.QObject,W=!K||!K[C]||!K[C].findChild,$=o&&l((function(){return 7!=x(_({},"a",{get:function(){return _(this,"a",{value:7}).a}})).a}))?function(n,e,t){var r=T(J,e);r&&delete J[e],_(n,e,t),r&&n!==J&&_(J,e,r)}:_,Y=function(n){var e=G[n]=x(j[C]);return e._k=n,e},q=H&&"symbol"==typeof j.iterator?function(n){return"symbol"==typeof n}:function(n){return n instanceof j},B=function(n,e,t){return n===J&&B(V,e,t),g(n),e=L(e,!0),g(t),i(G,e)?(t.enumerable?(i(n,M)&&n[M][e]&&(n[M][e]=!1),t=x(t,{enumerable:O(0,!1)})):(i(n,M)||_(n,M,O(1,{})),n[M][e]=!0),$(n,e,t)):_(n,e,t)},Q=function(n,e){g(n);var t,r=b(e=S(e)),i=0,o=r.length;while(o>i)B(n,t=r[i++],e[t]);return n},X=function(n,e){return void 0===e?x(n):Q(x(n),e)},Z=function(n){var e=U.call(this,n=L(n,!0));return!(this===J&&i(G,n)&&!i(V,n))&&(!(e||!i(this,n)||!i(G,n)||i(this,M)&&this[M][n])||e)},nn=function(n,e){if(n=S(n),e=L(e,!0),n!==J||!i(G,e)||i(V,e)){var t=T(n,e);return!t||!i(G,e)||i(n,M)&&n[M][e]||(t.enumerable=!0),t}},en=function(n){var e,t=R(S(n)),r=[],o=0;while(t.length>o)i(G,e=t[o++])||e==M||e==s||r.push(e);return r},tn=function(n){var e,t=n===J,r=R(t?V:S(n)),o=[],a=0;while(r.length>a)!i(G,e=r[a++])||t&&!i(J,e)||o.push(G[e]);return o};H||(j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var n=p(arguments.length>0?arguments[0]:void 0),e=function(t){this===J&&e.call(V,t),i(this,M)&&i(this[M],n)&&(this[M][n]=!1),$(this,n,O(1,t))};return o&&W&&$(J,n,{configurable:!0,set:e}),Y(n)},c(j[C],"toString",(function(){return this._k})),F.f=nn,N.f=B,t("cb2e").f=D.f=en,t("c864").f=Z,k.f=tn,o&&!t("6cc2")&&c(J,"propertyIsEnumerable",Z,!0),m.f=function(n){return Y(d(n))}),a(a.G+a.W+a.F*!H,{Symbol:j});for(var rn="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),on=0;rn.length>on;)d(rn[on++]);for(var an=P(d.store),cn=0;an.length>cn;)h(an[cn++]);a(a.S+a.F*!H,"Symbol",{for:function(n){return i(A,n+="")?A[n]:A[n]=j(n)},keyFor:function(n){if(!q(n))throw TypeError(n+" is not a symbol!");for(var e in A)if(A[e]===n)return e},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!H,"Object",{create:X,defineProperty:B,defineProperties:Q,getOwnPropertyDescriptor:nn,getOwnPropertyNames:en,getOwnPropertySymbols:tn});var sn=l((function(){k.f(1)}));a(a.S+a.F*sn,"Object",{getOwnPropertySymbols:function(n){return k.f(w(n))}}),E&&a(a.S+a.F*(!H||l((function(){var n=j();return"[null]"!=z([n])||"{}"!=z({a:n})||"{}"!=z(Object(n))}))),"JSON",{stringify:function(n){var e,t,r=[n],i=1;while(arguments.length>i)r.push(arguments[i++]);if(t=e=r[1],(v(e)||void 0!==n)&&!q(n))return y(e)||(e=function(n,e){if("function"==typeof t&&(e=t.call(this,n,e)),!q(e))return e}),r[1]=e,z.apply(E,r)}}),j[C][I]||t("b8ea")(j[C],I,j[C].valueOf),f(j,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},7206:function(n,e,t){e.f=t("1277")},"7cfd":function(n,e,t){var r=t("d3d8").f,i=Function.prototype,o=/^\s*function ([^ (]*)/,a="name";a in i||t("f9a5")&&r(i,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(n){return""}}})},ac59:function(n,e,t){var r=t("3f8b"),i=t("da27"),o=t("6cc2"),a=t("7206"),c=t("d3d8").f;n.exports=function(n){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==n.charAt(0)||n in e||c(e,n,{value:a.f(n)})}},b081:function(n,e,t){var r=t("4d2c")("meta"),i=t("da0b"),o=t("549d"),a=t("d3d8").f,c=0,s=Object.isExtensible||function(){return!0},l=!t("0cc1")((function(){return s(Object.preventExtensions({}))})),u=function(n){a(n,r,{value:{i:"O"+ ++c,w:{}}})},f=function(n,e){if(!i(n))return"symbol"==typeof n?n:("string"==typeof n?"S":"P")+n;if(!o(n,r)){if(!s(n))return"F";if(!e)return"E";u(n)}return n[r].i},p=function(n,e){if(!o(n,r)){if(!s(n))return!0;if(!e)return!1;u(n)}return n[r].w},d=function(n){return l&&m.NEED&&s(n)&&!o(n,r)&&u(n),n},m=n.exports={KEY:r,NEED:!1,fastKey:f,getWeak:p,onFreeze:d}},c26a:function(n,e,t){var r=t("6117"),i=t("cb2e").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(n){try{return i(n)}catch(e){return a.slice()}};n.exports.f=function(n){return a&&"[object Window]"==o.call(n)?c(n):i(r(n))}},c58e:function(n,e,t){var r=t("6077");n.exports=Array.isArray||function(n){return"Array"==r(n)}},cb2e:function(n,e,t){var r=t("7afe"),i=t("d93f").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(n){return r(n,i)}},e493:function(n,e,t){var r=t("c864"),i=t("0614"),o=t("6117"),a=t("2ab1"),c=t("549d"),s=t("25ae"),l=Object.getOwnPropertyDescriptor;e.f=t("f9a5")?l:function(n,e){if(n=o(n),e=a(e,!0),s)try{return l(n,e)}catch(t){}if(c(n,e))return i(!r.f.call(n,e),n[e])}}}]);
//# sourceMappingURL=chunk-2178b877.8d59ea9b.js.map