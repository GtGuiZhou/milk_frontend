(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75376663","chunk-0d32355c","chunk-2d22c34b"],{3025:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("crud-index",{ref:"crud",attrs:{"index-url":"/admin/item/index","insert-url":"/admin/item/insert","update-url":"/admin/item/update","delete-url":"/admin/item/delete","upload-file-url":"/api/file/upload",columns:e.columns},scopedSlots:e._u([{key:"plus_column",fn:function(){return[n("el-table-column",{attrs:{width:"120",label:"项目币种管理"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"success",plain:""},on:{click:function(n){return e.editCoin(t.row)}}},[e._v("编辑币种")])]}}])}),e._v("\n<\n            ")]},proxy:!0}])}),n("el-dialog",{attrs:{width:"1450px",title:"项目币种管理",visible:e.visualCoinManager},on:{"update:visible":function(t){e.visualCoinManager=t}}},[n("item-coin",{attrs:{options:e.coinOptions,type:"add",value:e.itemCoin},on:{add:e.addItemCoin}}),e._l(e.itemCoins,(function(t,i){return n("item-coin",{key:i,attrs:{readonly:"",options:e.coinOptions,type:"delete",value:t},on:{delete:e.delItemCoin}})}))],2)],1)},o=[],r=(n("63ff"),n("becb")),a=n("e6ab"),u=n("570e"),s=n("d6b2"),l=n("f1f0"),c={name:"item",components:{SupportCoin:l["default"],ItemCoin:s["default"],CrudInsertForm:u["a"],CrudIndex:a["a"]},data:function(){return{columns:[{name:"id",primary:!0},{name:"image",comment:"项目图片",show_type:"image"},{name:"video",comment:"项目视频",show_type:"file"},{name:"lv",comment:"评级",show_type:"rate",default:0},{name:"handle_fee",comment:"手续费",show_type:"number",default:0},{name:"duration",comment:"周期",show_type:"number",default:0},{name:"begin_time",comment:"开始时间",show_type:"timestamp",default:(new Date).getTime()/1e3,width:100},{name:"rule",comment:"投资规则",show_type:"article",hideTable:!0},{name:"description",comment:"详情",show_type:"article",hideTable:!0},{name:"comment",comment:"说明",show_type:"article",hideTable:!0}],coinOptions:[],itemCoin:{coin_id:"",support_coin_id:""},itemCoins:[],editRow:null,visualCoinManager:!1,visualSupportCoinManager:!1}},mounted:function(){this.getCoinList()},methods:{getCoinList:function(){var e=this;this.$http.get("/admin/coin/index?size=all").then((function(t){return e.coinOptions=t.list}))},editCoin:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.editRow=t,this.itemCoin.item_id=t.id,e.next=4,this.$http.get("/admin/item_coin/getByItemId?item_id="+this.editRow.id);case 4:this.itemCoins=e.sent,this.visualCoinManager=!0;case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),addItemCoin:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.post("/admin/item_coin/insert",this.itemCoin);case 2:return e.next=4,this.$http.get("/admin/item_coin/getByItemId?item_id="+this.editRow.id);case 4:this.itemCoins=e.sent,this.itemCoin={item_id:this.editRow.id,coin_id:"",number:0};case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),delItemCoin:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.delete("/admin/item_coin/delete?ids="+t.id);case 2:return e.next=4,this.$http.get("/admin/item_coin/getByItemId?item_id="+this.editRow.id);case 4:this.itemCoins=e.sent;case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},d=c,m=n("4e82"),p=Object(m["a"])(d,i,o,!1,null,"54f15b16",null);t["default"]=p.exports},d6b2:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{"margin-bottom":"10px"}},[n("div",[n("label",[e._v("项目币种：")]),n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value.coin_id,callback:function(t){e.$set(e.value,"coin_id",t)},expression:"value.coin_id"}},e._l(e.options,(function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),e._v("\n          \n\n        "),"delete"===e.type?n("el-button",{attrs:{type:"danger",icon:"el-icon-close"},on:{click:function(t){return e.delItemCoin()}}}):n("el-button",{attrs:{plain:"",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addItemCoin()}}})],1),n("div",{staticStyle:{"padding-left":"20px","padding-top":"10px"}},["delete"===e.type?n("item-coin-support",{attrs:{options:e.options,type:"add",value:e.supportItemCoin},on:{add:e.addSupportItemCoin}}):e._e(),e._l(e.supportItemCoins,(function(t,i){return n("item-coin-support",{key:i,attrs:{options:e.options,type:"delete",value:t},on:{delete:e.delSupportItemCoin}})}))],2)])},o=[],r=(n("63ff"),n("becb")),a=n("f1f0"),u={name:"itemCoin",components:{ItemCoinSupport:a["default"]},props:{type:{default:"add"},value:{type:Object,required:!0},options:{type:Array,default:function(){return[]}}},data:function(){return{supportItemCoin:{coin_id:"",total_number:0,max_number:0,min_number:0,rate:0},supportItemCoins:[]}},created:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("delete"!==this.type){e.next=6;break}return this.supportItemCoin.item_coin_id=this.value.id,this.supportItemCoin.item_id=this.value.item_id,e.next=5,this.$http.get("/admin/support_item_coin/getByItemCoinId?item_coin_id="+this.value.id);case 5:this.supportItemCoins=e.sent;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{addItemCoin:function(){this.$emit("add")},delItemCoin:function(){this.$emit("delete",this.value)},addSupportItemCoin:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.post("/admin/support_item_coin/insert",this.supportItemCoin);case 2:return e.next=4,this.$http.get("/admin/support_item_coin/getByItemCoinId?item_coin_id="+this.value.id);case 4:this.supportItemCoins=e.sent,this.supportItemCoin={item_coin_id:this.value.id,item_id:this.value.item_id,coin_id:"",rate:0};case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),delSupportItemCoin:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.delete("/admin/support_item_coin/delete?ids="+t.id);case 2:return e.next=4,this.$http.get("/admin/support_item_coin/getByItemCoinId?item_coin_id="+this.value.id);case 4:this.supportItemCoins=e.sent;case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},s=u,l=n("4e82"),c=Object(l["a"])(s,i,o,!1,null,"7b8388ae",null);t["default"]=c.exports},f1f0:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{"margin-bottom":"10px"}},[n("label",[e._v("支持币种：")]),n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value.coin_id,callback:function(t){e.$set(e.value,"coin_id",t)},expression:"value.coin_id"}},e._l(e.options,(function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),e._v("\n      \n    "),n("label",[e._v("硬顶数量：")]),n("el-input-number",{model:{value:e.value.total_number,callback:function(t){e.$set(e.value,"total_number",t)},expression:"value.total_number"}}),e._v("\n      \n    "),n("label",[e._v("最低数量：")]),n("el-input-number",{model:{value:e.value.min_number,callback:function(t){e.$set(e.value,"min_number",t)},expression:"value.min_number"}}),e._v("\n      \n    "),n("label",[e._v("最高数量：")]),n("el-input-number",{model:{value:e.value.max_number,callback:function(t){e.$set(e.value,"max_number",t)},expression:"value.max_number"}}),e._v("\n      \n    "),n("label",[e._v("比例：")]),n("el-input-number",{model:{value:e.value.rate,callback:function(t){e.$set(e.value,"rate",t)},expression:"value.rate"}}),e._v("\n      \n    "),"delete"===e.type?n("el-button",{attrs:{type:"danger",icon:"el-icon-close"},on:{click:function(t){return e.delItemCoin()}}}):n("el-button",{attrs:{plain:"",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addItemCoin()}}})],1)},o=[],r={name:"itemCoinSupport",props:{type:{default:"add"},value:{type:Object,required:!0},options:{type:Array,default:function(){return[]}}},data:function(){return{}},methods:{addItemCoin:function(){this.$emit("add")},delItemCoin:function(){this.$emit("delete",this.value)}}},a=r,u=n("4e82"),s=Object(u["a"])(a,i,o,!1,null,"3e6dc4a8",null);t["default"]=s.exports}}]);
//# sourceMappingURL=chunk-75376663.0451c721.js.map